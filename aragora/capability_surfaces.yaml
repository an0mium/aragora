# Capability Surface Matrix
# Maps core capabilities to their surface exposure (API / CLI / SDK / UI / Channels).
# This file is used by scripts/capability_gap_report.py to highlight gaps.

version: "1.1"
last_updated: "2026-02-23"

capabilities:
  decision_integrity:
    api:
      - "POST /api/v1/debates/{id}/decision-integrity"
    cli:
      - "aragora ask --decision-integrity"
      - "aragora decide"
    sdk:
      python:
        - "debates.decision_integrity"
      typescript: []
    ui:
      - "/receipts"
      - "/decision-integrity"
    channels:
      - "slack"
      - "teams"
      - "telegram"
      - "whatsapp"

  debate_orchestration:
    api:
      - "POST /api/v1/debates"
      - "GET /api/v1/debates/{id}"
    cli:
      - "aragora ask"
    sdk:
      python:
        - "debates"
      typescript:
        - "debates"
    ui:
      - "/orchestration"
      - "/arena"
      - "/debates"
    channels:
      - "slack"
      - "teams"
      - "telegram"
      - "whatsapp"

  agent_team_selection:
    api:
      - "POST /api/v1/debates (auto_select)"
    cli:
      - "aragora ask --auto-select"
      - "aragora decide --auto-select"
    sdk:
      python:
        - "debates.create(auto_select=True)"
        - "debates.run(auto_select=True)"
      typescript: []
    ui:
      - "/nomic-control"
      - "/selection"
      - "/leaderboard"
    channels: []

  consensus_detection:
    api:
      - "POST /api/consensus/detect"
      - "GET /api/consensus/status/{debate_id}"
      - "GET /api/consensus/similar"
      - "GET /api/consensus/settled"
      - "GET /api/consensus/stats"
      - "GET /api/consensus/dissents"
      - "GET /api/consensus/contrarian-views"
      - "GET /api/consensus/risk-warnings"
      - "GET /api/consensus/domain/{domain}"
    cli:
      - "aragora consensus detect"
      - "aragora consensus status"
    sdk:
      python:
        - "consensus.detect()"
        - "consensus.get_detection_status()"
        - "consensus.get_similar_debates()"
        - "consensus.get_settled_topics()"
        - "consensus.get_stats()"
      typescript:
        - "consensus.detect()"
        - "consensus.getDetectionStatus()"
        - "consensus.findSimilar()"
        - "consensus.getSettled()"
        - "consensus.getStats()"
    ui:
      - "/consensus"
    channels: []

  graph_debates:
    api:
      - "POST /api/v1/debates/graph"
      - "GET /api/v1/debates/graph/{debate_id}"
    cli:
      - "aragora ask --graph"
    sdk:
      python:
        - "graph_debates"
      typescript: []
    ui:
      - "/debates/graph"
    channels: []

  matrix_debates:
    api:
      - "POST /api/v1/debates/matrix"
      - "GET /api/v1/debates/matrix/{matrix_id}"
    cli:
      - "aragora ask --matrix"
    sdk:
      python:
        - "matrix_debates"
      typescript: []
    ui:
      - "/debates/matrix"
    channels: []

  vertical_specialists:
    api:
      - "GET /api/v1/verticals"
      - "GET /api/v1/verticals/{id}"
      - "GET /api/v1/verticals/{id}/tools"
      - "GET /api/v1/verticals/{id}/compliance"
      - "POST /api/v1/verticals/{id}/debate"
      - "GET /api/v1/verticals/suggest"
    cli:
      - "aragora ask --enable-verticals"
      - "aragora ask --vertical <id>"
      - "aragora verticals list"
      - "aragora verticals suggest --task \"...\""
    sdk:
      python:
        - "verticals"
        - "debates.create(enable_verticals=True)"
      typescript:
        - "verticals"
        - "debates.create({ enable_verticals: true })"
    ui:
      - "/arena (Vertical Selector)"
      - "/admin/verticals"
      - "/verticals"
    channels: []

  knowledge_mound:
    api:
      - "GET /api/v1/knowledge/search"
    cli:
      - "aragora knowledge search"
    sdk:
      python:
        - "knowledge"
      typescript:
        - "knowledge"
    ui:
      - "/knowledge"
    channels: []

  continuum_memory:
    api:
      - "GET /api/v1/memory/query"
    cli:
      - "aragora memory"
      - "aragora stats"
    sdk:
      python:
        - "memory"
      typescript:
        - "memory"
    ui:
      - "/memory"
      - "/memory-analytics"
    channels: []

  workflow_engine:
    api:
      - "POST /api/v1/workflows"
    cli:
      - "aragora workflow"
    sdk:
      python:
        - "workflows"
      typescript:
        - "workflows"
    ui:
      - "/workflows"
      - "/pipeline"
    channels: []

  marketplace:
    api:
      - "GET /api/v1/marketplace/templates"
    cli:
      - "aragora marketplace"
    sdk:
      python:
        - "marketplace"
      typescript:
        - "marketplace"
    ui:
      - "/marketplace"
    channels: []

  nomic_loop:
    api:
      - "GET /api/v1/nomic/state"
      - "GET /api/v1/nomic/health"
      - "POST /api/v1/nomic/control/start"
      - "POST /api/v1/nomic/control/stop"
    cli:
      - "aragora nomic run"
      - "aragora nomic status"
    sdk:
      python:
        - "nomic.state()"
        - "nomic.start()"
      typescript:
        - "nomic.getState()"
        - "nomic.start()"
    ui:
      - "/nomic-control"
      - "/self-improve"
    channels: []

  rbac_v2:
    api:
      - "GET /api/v1/rbac/roles"
    cli: []
    sdk:
      python:
        - "rbac"
      typescript:
        - "rbac"
    ui:
      - "/policy"
      - "/security"
    channels: []

  compliance_framework:
    api:
      - "GET /api/v1/compliance/hipaa"
    cli: []
    sdk:
      python:
        - "policies"
      typescript:
        - "policies"
    ui:
      - "/compliance"
    channels: []
