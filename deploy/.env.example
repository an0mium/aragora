# =============================================================================
# Aragora Self-Hosted Deployment - Minimal Configuration
# =============================================================================
# Copy this file to .env and configure for your deployment:
#   cp .env.example .env
#
# Full documentation: ../docs/ENVIRONMENT.md
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED: AI Provider Keys (at least one)
# -----------------------------------------------------------------------------

# Anthropic Claude - https://console.anthropic.com/
ANTHROPIC_API_KEY=

# OpenAI - https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Recommended: OpenRouter fallback (handles quota errors automatically)
# https://openrouter.ai/keys
OPENROUTER_API_KEY=

# -----------------------------------------------------------------------------
# REQUIRED: Security (production only)
# -----------------------------------------------------------------------------

# Environment: development or production
ARAGORA_ENV=development

# JWT secret for authentication (REQUIRED in production)
# Generate: python -c "import secrets; print(secrets.token_urlsafe(32))"
ARAGORA_JWT_SECRET=

# Encryption key for secrets at rest (REQUIRED in production)
# Generate: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# ARAGORA_ENCRYPTION_KEY=

# -----------------------------------------------------------------------------
# SERVER CONFIGURATION
# -----------------------------------------------------------------------------

# Server port (default 8080)
ARAGORA_PORT=8080

# Bind address
# Use 127.0.0.1 for local only, 0.0.0.0 for external access
ARAGORA_BIND_HOST=0.0.0.0

# CORS allowed origins (comma-separated)
# Example: https://your-domain.com,https://staging.your-domain.com
ARAGORA_ALLOWED_ORIGINS=*

# -----------------------------------------------------------------------------
# DATABASE (choose one option)
# -----------------------------------------------------------------------------

# Option 1: PostgreSQL (RECOMMENDED for production)
# Format: postgresql://user:password@host:5432/dbname
# DATABASE_URL=postgresql://aragora:password@postgres:5432/aragora

# Option 2: SQLite (development only, auto-created)
# No configuration needed - uses .nomic/aragora.db by default

# Redis (optional, enables multi-instance deployments)
# REDIS_URL=redis://redis:6379/0

# -----------------------------------------------------------------------------
# INTEGRATIONS (optional)
# -----------------------------------------------------------------------------

# Slack - https://api.slack.com/apps
# SLACK_BOT_TOKEN=xoxb-...
# SLACK_SIGNING_SECRET=
# SLACK_CLIENT_ID=
# SLACK_CLIENT_SECRET=

# Microsoft Teams
# TEAMS_APP_ID=
# TEAMS_APP_PASSWORD=
# TEAMS_TENANT_ID=

# Telegram
# TELEGRAM_BOT_TOKEN=

# Discord
# DISCORD_BOT_TOKEN=

# -----------------------------------------------------------------------------
# OBSERVABILITY (optional)
# -----------------------------------------------------------------------------

# Prometheus metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# Logging
ARAGORA_LOG_LEVEL=INFO
ARAGORA_LOG_FORMAT=json

# OpenTelemetry tracing (optional)
# OTEL_ENABLED=false
# OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4317

# -----------------------------------------------------------------------------
# DOCKER-COMPOSE SPECIFIC
# -----------------------------------------------------------------------------

# Postgres credentials (used by docker-compose)
POSTGRES_USER=aragora
POSTGRES_PASSWORD=aragora_secret
POSTGRES_DB=aragora

# Redis password (optional)
# REDIS_PASSWORD=

# =============================================================================
# Quick Start:
# 1. Copy this file: cp .env.example .env
# 2. Set at least one AI provider key (ANTHROPIC_API_KEY or OPENAI_API_KEY)
# 3. For production: set ARAGORA_ENV=production and ARAGORA_JWT_SECRET
# 4. Run: docker-compose up -d
# 5. Verify: ./scripts/smoke-test.sh http://localhost:8080
# =============================================================================
