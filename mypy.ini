[mypy]
# Python version
python_version = 3.10

# Module discovery
mypy_path = .
files = aragora

# Start with permissive settings for gradual adoption
warn_return_any = False
warn_unused_configs = True
warn_redundant_casts = True
warn_unused_ignores = False
warn_no_return = True
# Disable unreachable checks - many false positives in exception handlers
warn_unreachable = False

# Disable strict checks initially to allow incremental adoption
disallow_untyped_defs = False
disallow_incomplete_defs = False
check_untyped_defs = False

# Import handling
ignore_missing_imports = True

# Error output
show_error_codes = True
show_column_numbers = True
pretty = True

# Performance
incremental = True
cache_dir = .mypy_cache

# Allow Any types during gradual migration
allow_redefinition = True
strict_optional = False

# Per-module overrides - stricter for storage modules (well-typed)
[mypy-aragora.storage.schema]
disallow_untyped_defs = True
disallow_incomplete_defs = True
check_untyped_defs = True

# Ignore persistence module - heavy external dependencies
[mypy-aragora.persistence.*]
ignore_errors = True

# Ignore tools module - many Any types from dynamic analysis
[mypy-aragora.tools.*]
ignore_errors = True

# Ignore plugins module - runtime introspection
[mypy-aragora.plugins.*]
ignore_errors = True

# Ignore modes module - config parsing
[mypy-aragora.modes.*]
ignore_errors = True

# Ignore third-party library typing issues
[mypy-aiohttp.*]
ignore_missing_imports = True

[mypy-anthropic.*]
ignore_missing_imports = True

[mypy-openai.*]
ignore_missing_imports = True

[mypy-google.*]
ignore_missing_imports = True

[mypy-supabase.*]
ignore_missing_imports = True

[mypy-pytest.*]
ignore_missing_imports = True

[mypy-yaml.*]
ignore_missing_imports = True
